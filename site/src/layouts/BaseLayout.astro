---
import "../styles/global.css";
import Navbar from "../components/Navbar.astro";

const basePath = import.meta.env.BASE_URL; 
const { title = "LeetCode", quickLinks = [] } = Astro.props;

const navLinks = [
  { href: basePath , label: "Home" },
  { href: basePath + "/revise", label: "Revise" },
  { href: basePath + "/progress", label: "Progress" },
  { href: "https://github.com/Chandrahas-forge/LeetCode", label: "GitHub", external: true },
];

const sidebarLinks = quickLinks.length
  ? quickLinks
  : [
      { href: "/", label: "Home" },
      { href: "/revise", label: "Start Revision" },
      { href: "/progress", label: "Progress" },
      { href: "https://leetcode.com/problemset/all/", label: "LeetCode", external: true },
    ];
---
<html lang="en" class="bg-slate-950 text-slate-100">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
  </head>

  <!-- NOTE: body must be a flex column so .flex-1 on the container works -->
  <body class="min-h-screen flex flex-col">
    <!-- Navbar -->
    <header>
      <Navbar links={navLinks} />
    </header>

    <!-- Page layout: stacks on mobile, two columns from md up -->
    <div
      class="flex-1 w-full
            px-4 py-6
            grid grid-cols-1 gap-6 md:gap-x-0
            md:grid-cols-[minmax(0,1fr)_auto]
            md:divide-x md:divide-slate-800"
    >
      <!-- Main content (slot goes inside main) -->
      <main id="main" class="min-w-0">
        <div class="max-w-5xl mx-auto"> 
            <slot />
        </div>
      </main>

      <!-- Sidebar / Quick Links -->
      <aside class="md:pl-6 text-sm opacity-90">
        <h3 class="font-semibold text-emerald-400">Quick Links</h3>
        {sidebarLinks.map((l: { href: string | URL | null | undefined; external: any; label: unknown; }) => (
          <a
            href={l.href}
            target={l.external ? "_blank" : undefined}
            rel={l.external ? "noopener" : undefined}
            class="block text-slate-300 hover:text-emerald-400"
          >
            {l.label}
          </a>
        ))}
      </aside>
    </div>
  </body>
</html>
